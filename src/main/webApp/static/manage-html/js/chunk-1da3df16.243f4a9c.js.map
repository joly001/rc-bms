{"version":3,"sources":["webpack:///./src/views/command/Role.vue?5bef","webpack:///src/views/command/Role.vue","webpack:///./src/views/command/Role.vue?1309","webpack:///./src/views/command/Role.vue","webpack:///./src/views/command/Role.vue?31b1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","nativeOn","$event","type","indexOf","_k","keyCode","key","table","query","currentPage","getData","model","value","condition","callback","$$v","$set","trim","expression","on","_v","showDialog","_m","_l","item","_s","pageSize","roleName","roleDesc","roleType","Date","createTime","$Format","getRoleDetail","remove","directives","name","rawName","list","length","total","handleCurrentChange","title","dialog","ref","roleList","visible","authorities","defaultProps","checkedKeys","$refs","tree","setCheckedKeys","slot","getCheckedKeys","_e","editRole","staticRenderFns","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,YAAc,YAAYC,SAAS,CAAC,MAAQ,SAASC,GAAQ,IAAIA,EAAOC,KAAKC,QAAQ,QAAQX,EAAIY,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAW,OAAO,KAAOd,EAAIe,MAAMC,MAAMC,YAAc,EAAEjB,EAAIkB,YAAYC,MAAM,CAACC,MAAOpB,EAAIe,MAAMC,MAAMK,UAAkB,SAAEC,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIe,MAAMC,MAAMK,UAAW,WAA4B,kBAARE,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,oCAAoCtB,EAAG,MAAM,CAACE,YAAY,YAAYqB,GAAG,CAAC,MAAQ,SAASlB,GAAQT,EAAIe,MAAMC,MAAMC,YAAc,EAAEjB,EAAIkB,aAAa,CAAClB,EAAI4B,GAAG,WAAWxB,EAAG,MAAM,CAACE,YAAY,mBAAmBqB,GAAG,CAAC,MAAQ,SAASlB,GAAQ,OAAOT,EAAI6B,WAAW,UAAU,CAAC7B,EAAI4B,GAAG,aAAaxB,EAAG,QAAQ,CAACE,YAAY,QAAQC,MAAM,CAAC,YAAc,MAAM,CAACP,EAAI8B,GAAG,GAAG9B,EAAI+B,GAAI/B,EAAIe,MAAU,MAAE,SAASiB,EAAKlB,GAAK,OAAOV,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAIiC,GAAInB,EAAM,GAAMd,EAAIe,MAAMC,MAAMC,YAAc,GAAKjB,EAAIe,MAAMC,MAAMkB,aAAa9B,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACN,EAAI4B,GAAG5B,EAAIiC,GAAGD,EAAKG,aAAa/B,EAAG,KAAK,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQyB,EAAKI,WAAW,CAACpC,EAAI4B,GAAG5B,EAAIiC,GAAGD,EAAKI,aAAahC,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAIiC,GAAqB,OAAlBD,EAAKK,SAAmB,KAAM,UAAUjC,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAIiC,GAAG,IAAIK,KAAKN,EAAKO,YAAYC,QAAQ,2BAA2BpC,EAAG,KAAK,CAACA,EAAG,OAAO,CAACE,YAAY,OAAOqB,GAAG,CAAC,MAAQ,SAASlB,GAAQ,OAAOT,EAAIyC,cAAcT,MAAS,CAAChC,EAAI4B,GAAG,QAAQxB,EAAG,OAAO,CAACE,YAAY,QAAQF,EAAG,OAAO,CAACE,YAAY,OAAOqB,GAAG,CAAC,MAAQ,SAASlB,GAAQ,OAAOT,EAAI0C,OAAOV,MAAS,CAAChC,EAAI4B,GAAG,eAAcxB,EAAG,UAAU,CAACuC,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASzB,OAAQpB,EAAIe,MAAM+B,KAAKC,OAAQrB,WAAW,0BAA0B,GAAGtB,EAAG,gBAAgB,CAACE,YAAY,aAAaC,MAAM,CAAC,YAAYP,EAAIe,MAAMC,MAAMkB,SAAS,eAAelC,EAAIe,MAAMC,MAAMC,YAAY,OAAS,4BAA4B,MAAQjB,EAAIe,MAAMiC,OAAOrB,GAAG,CAAC,iBAAiB3B,EAAIiD,oBAAoB,qBAAqB,SAASxC,GAAQ,OAAOT,EAAIwB,KAAKxB,EAAIe,MAAMC,MAAO,cAAeP,IAAS,sBAAsB,SAASA,GAAQ,OAAOT,EAAIwB,KAAKxB,EAAIe,MAAMC,MAAO,cAAeP,QAAa,GAAGL,EAAG,YAAY,CAACG,MAAM,CAAC,OAAQ,EAAM,OAAS,GAAG,MAAQP,EAAIkD,MAAM,wBAAuB,EAAM,QAAUlD,EAAImD,OAAO,MAAQ,SAASxB,GAAG,CAAC,iBAAiB,SAASlB,GAAQT,EAAImD,OAAO1C,KAAU,CAACL,EAAG,UAAU,CAACgD,IAAI,OAAO9C,YAAY,OAAOC,MAAM,CAAC,cAAc,OAAO,iBAAiB,SAAS,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,WAAWY,MAAM,CAACC,MAAOpB,EAAIqD,SAASrC,MAAc,SAAEM,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIqD,SAASrC,MAAO,WAAYO,IAAMG,WAAW,8BAA8B,GAAGtB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,WAAWY,MAAM,CAACC,MAAOpB,EAAIqD,SAASrC,MAAc,SAAEM,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIqD,SAASrC,MAAO,WAAYO,IAAMG,WAAW,8BAA8B,GAAI1B,EAAU,OAAEI,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,SAAS,CAACH,EAAG,aAAa,CAACG,MAAM,CAAC,UAAY,QAAQ,MAAQ,MAAM,QAAU,SAASY,MAAM,CAACC,MAAOpB,EAAW,QAAEsB,SAAS,SAAUC,GAAMvB,EAAIsD,QAAQ/B,GAAKG,WAAW,YAAY,CAACtB,EAAG,UAAU,CAACgD,IAAI,OAAO9C,YAAY,UAAUC,MAAM,CAAC,KAAOP,EAAIuD,YAAYT,KAAK,MAAQ9C,EAAIwD,aAAa,wBAAwB,CAAC,QAAQ,WAAW,KAAK,gBAAgB,GAAG,uBAAuBxD,EAAIyD,eAAerD,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,aAAaoB,GAAG,CAAC,MAAQ,SAASlB,GAAQT,EAAI0D,MAAMC,KAAKC,eAAe5D,EAAIyD,aAAazD,EAAIsD,SAAWtD,EAAIsD,UAAUO,KAAK,aAAa,CAAC7D,EAAI4B,GAAG,UAAUxB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgBqB,GAAG,CAAC,MAAQ,SAASlB,GAAQT,EAAIyD,YAAczD,EAAI0D,MAAMC,KAAKG,iBAAiB9D,EAAIsD,SAAU,KAAS,CAACtD,EAAI4B,GAAG,QAAQxB,EAAG,MAAM,CAACE,YAAY,WAAWqB,GAAG,CAAC,MAAQ,SAASlB,GAAQT,EAAIsD,SAAU,KAAS,CAACtD,EAAI4B,GAAG,WAAW,IAAI,GAAG5B,EAAI+D,MAAM,GAAG3D,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgBqB,GAAG,CAAC,MAAQ,SAASlB,GAAQ,OAAOT,EAAIgE,cAAc,CAAChE,EAAI4B,GAAG,QAAQxB,EAAG,MAAM,CAACE,YAAY,WAAWqB,GAAG,CAAC,MAAQ,SAASlB,GAAQT,EAAImD,QAAS,KAAS,CAACnD,EAAI4B,GAAG,WAAW,IAAI,IAC1sIqC,EAAkB,CAAC,WAAa,IAAIjE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,KAAK,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAI4B,GAAG,QAAQxB,EAAG,KAAK,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAI4B,GAAG,UAAUxB,EAAG,KAAK,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAI4B,GAAG,UAAUxB,EAAG,KAAK,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAI4B,GAAG,QAAQxB,EAAG,KAAK,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAI4B,GAAG,UAAUxB,EAAG,KAAK,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAI4B,GAAG,Y,wBCgF7c,GACE,KAAF,OACE,KAFF,WAGI,MAAJ,CACM,MAAN,CACQ,IAAR,aACQ,QAAR,SACQ,KAAR,GACQ,MAAR,EACQ,GAAR,SACQ,MAAR,CACU,UAAV,CACY,SAAZ,IAEU,YAAV,EACU,SAAV,mBAIM,YAAN,CACQ,IAAR,oBACQ,KAAR,IAGM,YAAN,GAEM,SAAN,CACQ,IAAR,YACQ,MAAR,CACU,SAAV,GACU,SAAV,GACU,YAAV,KAGM,SAAN,EACM,MAAN,UACM,QAAN,EACM,aAAN,CACQ,SAAR,cACQ,MAAR,UAIE,QAAF,CAEI,WAFJ,SAEA,KACM,KAAN,UACM,KAAN,eAEM,KAAN,gBACM,KAAN,gBACQ,SAAR,GACQ,SAAR,GACQ,YAAR,KAII,cAdJ,oEAcA,GAdA,yGAeA,YACA,mBACA,OACA,WAlBA,OA4BA,SAbA,EAfA,OAqBA,qBACA,QACA,oBACA,oBACA,2BAEA,oBACA,cACA,yBAEA,eACA,qBAhCA,yGAmCI,eAnCJ,6KAoCA,6BApCA,OAoCA,EApCA,OAqCA,eACA,0BAtCA,wGAyCI,QAzCJ,6KA0CA,uBA1CA,OA0CA,EA1CA,OA2CA,gCACA,8BA5CA,wGA+CI,OA/CJ,oEA+CA,GA/CA,iGAgDA,0CACA,uBACA,sBACA,iBAnDA,uBAqDA,YACA,mBACA,OACA,WAxDA,OA2DA,qBACA,eA5DA,yGA+DI,SA/DJ,gKAgEA,KACA,wBACA,SACA,mCAEA,SACA,+BAEA,iDACA,uCAzEA,uBA0EA,6BA1EA,6BA6EA,6BA7EA,uBA8EA,+BA9EA,2CAiFA,0BAjFA,QAkFA,gBACA,eACA,kBACA,WACA,aAEA,cACA,2BAEA,eA3FA,yGA8FI,oBA9FJ,SA8FA,GACM,KAAN,0BACM,KAAN,YAGE,QA9IF,WA+II,KAAJ,UACI,KAAJ,mBCjOic,I,wBCQ7bsC,EAAY,eACd,EACAnE,EACAkE,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf,yBAAusB,EAAG,G","file":"js/chunk-1da3df16.243f4a9c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"table-box\"},[_c('el-input',{staticClass:\"mr10\",attrs:{\"placeholder\":\"请输入：角色名称\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.table.query.currentPage = 1;_vm.getData()}},model:{value:(_vm.table.query.condition.roleName),callback:function ($$v) {_vm.$set(_vm.table.query.condition, \"roleName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"table.query.condition.roleName\"}}),_c('div',{staticClass:\"btn-main \",on:{\"click\":function($event){_vm.table.query.currentPage = 1;_vm.getData()}}},[_vm._v(\"查   询\")]),_c('div',{staticClass:\"btn-main btn-add\",on:{\"click\":function($event){return _vm.showDialog('add')}}},[_vm._v(\"新建自定义角色\")]),_c('table',{staticClass:\"table\",attrs:{\"cellspacing\":\"0\"}},[_vm._m(0),_vm._l((_vm.table.list),function(item,key){return _c('tr',[_c('td',[_vm._v(_vm._s((key + 1) + (_vm.table.query.currentPage - 1) * _vm.table.query.pageSize))]),_c('td',{staticClass:\"left-justifying\"},[_vm._v(_vm._s(item.roleName))]),_c('td',{staticClass:\"left-justifying\",attrs:{\"title\":item.roleDesc}},[_vm._v(_vm._s(item.roleDesc))]),_c('td',[_vm._v(_vm._s(item.roleType === '00'? '默认': '自定义'))]),_c('td',[_vm._v(_vm._s(new Date(item.createTime).$Format('yyyy-MM-dd hh:mm:ss')))]),_c('td',[_c('span',{staticClass:\"oper\",on:{\"click\":function($event){return _vm.getRoleDetail(item)}}},[_vm._v(\"修改\")]),_c('span',{staticClass:\"col\"}),_c('span',{staticClass:\"oper\",on:{\"click\":function($event){return _vm.remove(item)}}},[_vm._v(\"删除\")])])])}),_c('no-data',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.table.list.length),expression:\"!table.list.length\"}]})],2),_c('el-pagination',{staticClass:\"pagination\",attrs:{\"page-size\":_vm.table.query.pageSize,\"current-page\":_vm.table.query.currentPage,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.table.total},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.table.query, \"currentPage\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.table.query, \"currentPage\", $event)}}})],1),_c('el-dialog',{attrs:{\"modal\":false,\"center\":\"\",\"title\":_vm.title,\"close-on-click-modal\":false,\"visible\":_vm.dialog,\"width\":\"420px\"},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-width\":\"70px\",\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"角色名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色名称\"},model:{value:(_vm.roleList.query.roleName),callback:function ($$v) {_vm.$set(_vm.roleList.query, \"roleName\", $$v)},expression:\"roleList.query.roleName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"角色描述\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色描述\"},model:{value:(_vm.roleList.query.roleDesc),callback:function ($$v) {_vm.$set(_vm.roleList.query, \"roleDesc\", $$v)},expression:\"roleList.query.roleDesc\"}})],1),(_vm.dialog)?_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"权限设置\"}},[_c('el-popover',{attrs:{\"placement\":\"right\",\"width\":\"400\",\"trigger\":\"click\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('el-tree',{ref:\"tree\",staticClass:\"el-tree\",attrs:{\"data\":_vm.authorities.list,\"props\":_vm.defaultProps,\"default-expanded-keys\":['root'],\"node-key\":\"id\",\"show-checkbox\":\"\",\"default-checked-keys\":_vm.checkedKeys}}),_c('div',{staticClass:\"btn-set\",attrs:{\"slot\":\"reference\"},on:{\"click\":function($event){_vm.$refs.tree.setCheckedKeys(_vm.checkedKeys);_vm.visible = !_vm.visible}},slot:\"reference\"},[_vm._v(\"设置权限\")]),_c('div',{staticClass:\"btns mt25\"},[_c('div',{staticClass:\"btn-main mr15\",on:{\"click\":function($event){_vm.checkedKeys = _vm.$refs.tree.getCheckedKeys();_vm.visible = false}}},[_vm._v(\"提交\")]),_c('div',{staticClass:\"btn-main\",on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"关闭\")])])],1)],1):_vm._e()],1),_c('div',{staticClass:\"btns mt25\"},[_c('div',{staticClass:\"btn-main mr15\",on:{\"click\":function($event){return _vm.editRole()}}},[_vm._v(\"提交\")]),_c('div',{staticClass:\"btn-main\",on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"关闭\")])])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"width\":\"13%\"}},[_vm._v(\"序号\")]),_c('th',{staticClass:\"left-justifying\",attrs:{\"width\":\"14%\"}},[_vm._v(\"角色名称\")]),_c('th',{staticClass:\"left-justifying\",attrs:{\"width\":\"25%\"}},[_vm._v(\"角色描述\")]),_c('th',{attrs:{\"width\":\"14%\"}},[_vm._v(\"类型\")]),_c('th',{attrs:{\"width\":\"14%\"}},[_vm._v(\"创建时间\")]),_c('th',{attrs:{\"width\":\"20%\"}},[_vm._v(\"操作\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"table-box\">\n      <el-input v-model.trim=\"table.query.condition.roleName\"\n                @keyup.enter.native=\"table.query.currentPage = 1;getData()\"\n                class=\"mr10\" placeholder=\"请输入：角色名称\"></el-input>\n      <div @click=\"table.query.currentPage = 1;getData()\" class=\"btn-main \">查&nbsp;&nbsp;&nbsp;询</div>\n      <div @click=\"showDialog('add')\" class=\"btn-main btn-add\">新建自定义角色</div>\n      <table cellspacing=\"0\"  class=\"table\">\n        <tr>\n          <th width=\"13%\">序号</th>\n          <th class=\"left-justifying\" width=\"14%\">角色名称</th>\n          <th class=\"left-justifying\" width=\"25%\">角色描述</th>\n          <th width=\"14%\">类型</th>\n          <th width=\"14%\">创建时间</th>\n          <th width=\"20%\">操作</th>\n        </tr>\n        <tr v-for=\"(item,key) in table.list\">\n          <td>{{(key + 1) + (table.query.currentPage - 1) * table.query.pageSize}}</td>\n          <td class=\"left-justifying\">{{item.roleName}}</td>\n          <td class=\"left-justifying\" :title=\"item.roleDesc\">{{item.roleDesc}}</td>\n          <td>{{item.roleType === '00'? '默认': '自定义'}}</td>\n          <td>{{new Date(item.createTime).$Format('yyyy-MM-dd hh:mm:ss')}}</td>\n          <td>\n            <span @click=\"getRoleDetail(item)\" class=\"oper\">修改</span>\n            <span class=\"col\"></span>\n            <span @click=\"remove(item)\" class=\"oper\">删除</span>\n          </td>\n        </tr>\n        <no-data v-show=\"!table.list.length\"></no-data>\n      </table>\n      <el-pagination\n          class=\"pagination\"\n          :page-size=\"table.query.pageSize\"\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"table.query.currentPage\"\n          layout=\"prev, pager, next, jumper\"\n          :total=\"table.total\">\n      </el-pagination>\n    </div>\n    <el-dialog :modal=\"false\" center :title=\"title\"\n               :close-on-click-modal=\"false\"\n               :visible.sync=\"dialog\" width=\"420px\">\n      <el-form class=\"form\" ref=\"form\" label-width=\"70px\" label-position=\"left\">\n        <el-form-item prop=\"oldPassword\" label=\"角色名称\">\n          <el-input v-model=\"roleList.query.roleName\"  placeholder=\"请输入角色名称\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"oldPassword\" label=\"角色描述\">\n          <el-input v-model=\"roleList.query.roleDesc\" placeholder=\"请输入角色描述\"></el-input>\n        </el-form-item>\n        <el-form-item v-if=\"dialog\" prop=\"oldPassword\" label=\"权限设置\">\n          <el-popover\n            v-model=\"visible\"\n            placement=\"right\"\n            width=\"400\"\n            trigger=\"click\">\n          <el-tree class=\"el-tree\" :data=\"authorities.list\"\n                   :props=\"defaultProps\"\n                   :default-expanded-keys=\"['root']\"\n                   ref=\"tree\"\n                   node-key=\"id\" show-checkbox\n                   :default-checked-keys=\"checkedKeys\"\n                   ></el-tree>\n          <div slot=\"reference\"\n               @click=\"$refs.tree.setCheckedKeys(checkedKeys);visible = !visible\" class=\"btn-set\">设置权限</div>\n          <div class=\"btns mt25\">\n            <div @click=\"checkedKeys = $refs.tree.getCheckedKeys();visible = false\" class=\"btn-main mr15\">提交</div>\n            <div @click=\"visible = false\" class=\"btn-main\">关闭</div>\n          </div>\n        </el-popover>\n        </el-form-item>\n      </el-form>\n      <div class=\"btns mt25\">\n        <div  @click=\"editRole()\" class=\"btn-main mr15\">提交</div>\n        <div @click=\"dialog = false\" class=\"btn-main\">关闭</div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"Info\",\n    data(){\n      return {\n        table:{\n          url: '/role/list',\n          loading: '.table',\n          list: [],\n          total: 0,\n          el: '.table',\n          query:{\n            condition:{\n              roleName: '',\n            },\n            currentPage: 1,\n            pageSize: this.$conf.PAGES,\n          }\n        },\n        // 权限列表\n        authorities: {\n          url: '/role/authorities',\n          list: []\n        },\n        // 选中的角色\n        checkedKeys: [],\n        // 角色\n        roleList: {\n          url: '/role/add',\n          query:{\n            roleName: '',\n            roleDesc: '',\n            authorities: []\n          }\n        },\n        visible: false,\n        title: '新建自定义角色',\n        dialog: false,\n        defaultProps: {\n          children: 'authorities',\n          label: 'name'\n        }\n      }\n    },\n    methods: {\n      // 展现弹窗\n      showDialog(type, item){\n        this.dialog = true\n        this.checkedKeys = []\n\n          this.title = '新建自定义角色'\n          this.roleList.query = {\n            roleName: '',\n            roleDesc: '',\n            authorities: []\n          }\n      },\n      // 获取角色详情\n      async getRoleDetail(item){\n        let res = await this.$ajax({\n          url: '/role/detail',\n          query: {\n            id: item.id\n          }\n        })\n        this.roleList.query = {\n          id: res.id,\n          roleName: res.roleName,\n          roleDesc: res.roleDesc,\n          authorities: res.authorities\n        }\n        this.checkedKeys = []\n        for(let i in res.authorities){\n          this.checkedKeys.push(i)\n        }\n        this.dialog = true\n        this.title = '修改自定义角色'\n      },\n      // 查询所有权限\n      async getAuthorities(){\n        let res = await this.$ajax(this.authorities)\n        console.log(res)\n        this.authorities.list = [res]\n      },\n      // 获取表格数据\n      async getData(){\n        let res = await this.$ajax(this.table)\n        this.table.list = res.pageItems || []\n        this.table.total = res.totalCount\n      },\n      // 删除\n      async remove(item){\n        await this.$confirm(`数据删除后将不能恢复，请确认是否删除！`, '提示', {\n          confirmButtonText: '确认',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        await this.$ajax({\n          url: '/role/delete',\n          query:{\n            id: item.id\n          }\n        })\n        this.$remind('删除成功')\n        this.getData()\n      },\n      // 新建角色\n      async editRole(){\n        let text = ''\n        if(this.title === '修改自定义角色'){\n          text = '修改成功'\n          this.roleList.url = '/role/update'\n        }else{\n          text = '新建成功'\n          this.roleList.url = '/role/add'\n        }\n        this.roleList.query.authorities = this.checkedKeys\n        if(!this.roleList.query.authorities.length){\n          this.$message.error('请设置权限')\n          return\n        }\n        if(!this.roleList.query.roleName){\n          this.$message.error('请输入角色名称')\n          return\n        }\n        await this.$ajax(this.roleList)\n        this.$remind(text)\n        this.dialog = false\n        this.table.query = {\n          condition:{\n            roleName: '',\n          },\n          currentPage: 1,\n          pageSize: this.$conf.PAGES,\n        }\n        this.getData()\n      },\n      // 分页切换\n      handleCurrentChange(e){\n        this.table.query.currentPage = e\n        this.getData()\n      }\n    },\n    mounted() {\n      this.getData()\n      this.getAuthorities()\n    }\n  }\n</script>\n\n<style lang=\"sass\" scoped>\n  .btn-set\n    width: 100%\n    text-align: center\n    height: 28px\n    line-height: 28px\n    border-radius: 5px\n    color: $main-c\n    border: 1px solid $main-c\n    cursor: pointer\n    display: inline-block\n    &:hover\n      opacity: .7\n    &:active\n      opacity: 1\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=d1cb155e&scoped=true&\"\nimport script from \"./Role.vue?vue&type=script&lang=js&\"\nexport * from \"./Role.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Role.vue?vue&type=style&index=0&id=d1cb155e&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1cb155e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=d1cb155e&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=d1cb155e&lang=sass&scoped=true&\""],"sourceRoot":""}